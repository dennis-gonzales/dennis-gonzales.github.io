---
sidebar_position: 1
---

import DocCardList from '@theme/DocCardList';

# Companion Object

A companion object in Kotlin is an object that is declared inside a class, and marked with the `companion` keyword. Companion objects are used when you want to create a function or a property that is tied to an instance of the class, rather than the class itself. These functions and properties can be accessed directly via the class name, much like static methods and fields in Java.

## Defining a Companion Object

A companion object is defined within a class using the `companion object` keywords, followed by the object body.

```kotlin title="CompanionObjectDefinition.kt"
class MyClass {
    companion object {
        // Companion object body goes here
    }
}
```

## Using a Companion Object

The members of the companion object can be accessed directly via the class name.

```kotlin title="UseCompanionObject.kt"
class MyClass {
    companion object {
        val myConst: String = "Hello, World!"

        fun greet() {
            println(myConst)
        }
    }
}

fun main() {
    MyClass.greet() // Prints: Hello, World!
}
```

In the above example, `MyClass` has a companion object with a property `myConst` and a function `greet`. The `greet` function is called directly on `MyClass`.

## Companion Objects and Interfaces

A companion object can implement an interface, allowing the companion object to inherit abstract methods from the interface.

```kotlin title="CompanionObjectInterface.kt"
interface MyInterface {
    fun displayMessage()
}

class MyClass {
    companion object : MyInterface {
        override fun displayMessage() {
            println("Hello, World!")
        }
    }
}

fun main() {
    val myInterface: MyInterface = MyClass.Companion
    myInterface.displayMessage() // Prints: Hello, World!
}
```

In the above example, `MyClass.Companion` is an object that implements `MyInterface`.

## Common Pitfalls and Best Practices

### Overuse of Companion Objects

Companion objects are similar to static members in other languages. While they can be useful, they can also lead to procedural style code if overused. Try to use companion objects sparingly, and favor object-oriented design principles.

### Initialization of Companion Objects

The initialization of a companion object is thread-safe. However, if it performs complex operations or relies on state that might be changed by other threads, synchronization issues can occur.

## Design Patterns

In the context of design patterns, companion objects can be useful in several cases:

- Factory Method: The Factory method can be defined in a companion object, allowing instances of a class to be created without using the constructor directly.
- Singleton: A companion object is a good place to implement the Singleton pattern in Kotlin because it guarantees that only one instance of the object exists.

Understanding companion objects is key to writing idiomatic Kotlin and leveraging the full power of the language.

<DocCardList />